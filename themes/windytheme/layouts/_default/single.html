{{ define "main" }}

{{- partial "header.html" . -}}

<div class="scrub min-h-7/10-screen flex flex-col">
    <div class="w-full flex-1 flex">
        <div class="grow">
            <div class="bg-gray-100/50 shadow-2xl rounded-2xl">
                å·¦è¾¹
            </div>
        </div>
        <div class="shrink max-w-main w-full">
            <div class="bg-gray-100/50 shadow-2xl rounded-2xl">
                <div class="p-4 text-center">
                    <h1>{{ .Title }}</h1>
                    <div class="flex flex-wrap">
                        <p class="grow">ğŸ—“ï¸ {{ .Date.Format "2006-01-02" }}</p>
                        <p class="grow">â™»ï¸ {{ .Lastmod.Format "2006-01-02" }}</p>
                        <p class="grow">ğŸ•’ {{ .ReadingTime }} mins</p>
                        <p class="grow">ğŸ“– {{ .WordCount }} words</p>
                    </div>
                    <div class="flex flex-wrap">
                        <p class="flex-none">
                            {{ with .Prev }}â†
                            <a href="{{ with .Prev }}{{ .Permalink | safeURL  }}{{ end }}">
                                {{ with .Prev }}{{ .Title }}{{ end }}
                            </a>
                            {{ end }}
                        </p>
                        <p class="grow">
                            {{ $base := trim .Site.BaseURL "/" }}
                            {{ $bases := split $base "/" }}
                            {{ $base = index $bases 0 }}

                            {{ range .Ancestors.Reverse }}
                            {{ $path := trim .RelPermalink "/" }}
                            {{ $paths := split $path "/" }}
                            {{ $path_len := $paths | len }}
                            {{ $path_len = sub $path_len 1 }}
                            {{ $path = index $paths $path_len }}
                            {{ if eq $path "" }}
                            {{ $path = $base }}
                            {{ end }}
                            <a href="{{ .RelPermalink }}">{{ $path }}</a>
                            /
                            {{ end }}
                            <a href="{{ .RelPermalink }}">{{ .Title }}</a>
                        </p>
                        <p class="flex-none">
                            {{ with .Next }}
                            <a href="{{ with .Next }}{{ .Permalink | safeURL  }}{{ end }}">
                                {{ with .Next }}{{ .Title }}{{ end }}
                            </a>â†’
                            {{ end }}
                        </p>
                    </div>
                </div>
                <hr class="border-2"/>

                {{ if ne .TableOfContents `<nav id="TableOfContents"></nav>` }}
                <div id="toc" class="p-4">
                    {{ .TableOfContents }}
                </div>
                <hr class="border-2"/>
                {{ end }}

                <div id="content" class="p-4">
                    {{.Content}}
                </div>

                <div id="comment"></div>
            </div>
        </div>
        <div class="grow">
            <div class="bg-gray-100/50 shadow-2xl rounded-2xl">
                {{ .TableOfContents }}
            </div>
        </div>
    </div>

    {{- partial "footer.html" . -}}
</div>

{{ end }}